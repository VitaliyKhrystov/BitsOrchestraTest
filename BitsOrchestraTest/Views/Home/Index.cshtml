@model List<PersonViewModel>
@{
    ViewData["Title"] = "Home Page";
}

<div class="container">
    <form class="w-25" asp-action="Upload" asp-controller="Home" method="post" enctype="multipart/form-data">
      <div class="mb-3">
            <input type="file" class="form-control" name="fileInfo">
      </div>
        @if(ViewBag.Message != null)
        {
            <p class="error-message text-danger">@ViewBag.Message</p>
        }
        <button type="submit" class="btn btn-primary">Upload</button>
    </form>

    @if(Model.Count() != 0){

        <div class="search">
            <input type="text" placeholder="Searching......." id="search-item" />
        </div>

        <table class="table" id="mytable">
          <thead>
            <tr id="tr-header">
                <th data-column="Name" data-order="asc" scope="col">Name</th>
                <th data-column="DateofBirth" data-order="asc" scope="col">Date of birth</th>
                <th data-column="Married" data-order="asc" scope="col">Married</th>
                <th data-column="Phone" data-order="asc" scope="col">Phone</th>
                <th data-column="Salary" data-order="asc" scope="col">Salary</th>
                <th scope="col">Actions</th>
            </tr>
          </thead>
            <tbody id="tbody"> </tbody>
        </table>
         <h5 id="error"></h5>
    }
</div>

<script>
    var personData = @Model.Count() != 0 ? @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(Model)) : [];
</script>
